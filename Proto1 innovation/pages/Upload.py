import streamlit as st
from ultralytics import YOLO
from PIL import Image
import pickle


model = pickle.load(model_file) # Load the model from the file



def processing():
    st.write("Processing photo...")
    def end():
        st.write("Photo processed."
                 /"result:")
        st.image("data:image/png;base64,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")


def start():
    st.title("ARDENTIFY")
    st.subheader("Image upload")
    st.write("upload image of artifact")
    st.write("""

    """)
def main():
 start()
 File = st.file_uploader("Upload Image", type=["jpg", "jpeg", "png"], accept_multiple_files=False,on_change=processing)

 if File is not None:
    image = Image.open(File)
    st.image(image, caption="Uploaded Image", use_column_width=True)

 if st.button("Detect Objects"):
  model.predict(image)


main()
